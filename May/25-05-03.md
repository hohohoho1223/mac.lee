# 오늘 내가 배운 것들(Today I Learned)

- 오늘은 SSH사용 후기이다.(VM인스턴스를 활용한 서버 배포)

---

- FASTAPI_IP는 내 로컬 호스트(localhost)를 쓰면(내부에서 실행)되며 통신하게 되는것이고
- 여기서 외부 IP주소를 쓰게되면(34.22.69.247) 내가 외부에서 배포환경에 들어가게 된다?
    - 백엔드 - 포트 8080 번이고/AI - 포트 8000번 이므로 이게 GCP 방화벽에 포트가 열려있어야 한다
    - 그리고 내가 SSH안에서 내 fastapi(.venv)를 실행시키려면 2가지 방법이 있는데,
    - 하나는 VM을 2개 켜서 `python main.py` 와 통신실행을 각각 하는것이고(서버가 돌아가고 있을땐 터미널 조작이 안되므로) 
    - 다른 하나는 백그라운드에서 fastapi를 꺼지지 않게 실행 시키는 것이다.
- nohub 명령어 사용(간단) :`nohup python main.py > fastapi.log 2>&1 &`

| **설명**         | **의미**         |
| -------------- | -------------- |
| nohup          | 터미널 종료돼도 계속 실행 |
| \> fastapi.log | 로그 파일로 출력 저장   |
| 2>&1           | 에러도 로그에 같이 저장  |
| &              | 백그라운드 실행       |

### 왜 f-string을 프롬프팅에 쓰면 안되나?

-  파이썬이 f-string의 {}부분을 먼저 치환하게 됨 -> 랭체인이 그럼 어디가 변수명인지 찾지 못함

| **목적**                      | **코드**          | **결과**            |
| --------------------------- | --------------- | ----------------- |
| 파이썬에서 직접 문자열 만들기            | f"Hello {name}" | 파이썬이 {}를 즉시 바꿈    |
| LangChain PromptTemplate 사용 | "Hello {name}"  | LangChain이 나중에 채움 |