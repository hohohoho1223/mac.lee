# ì˜¤ëŠ˜ ë‚´ê°€ ë°°ìš´ ê²ƒë“¤(Today I Learned)
## ë”¥ë‹¤ì´ë¸Œ ì§„í–‰

---

### ì‹œê³„ì—´ ë°ì´í„° ë¶„ì„ì´ ë°ì´í„°ë¥¼ ì‹œê°„ ê¸°ë°˜ìœ¼ë¡œ ì´í•´í•˜ëŠ” ë° ì¤‘ìš”í•œ ì´ìœ ë¥¼ ì„¤ëª…í•˜ì‹œì˜¤.ğŸ¤”

1. ì‹œê°„ì˜ íë¦„ ë³„ë¡œ ë°ì´í„°ë¥¼ ë¶„ë¥˜í•˜ì—¬ íŒ¨í„´ì„ ì•Œì•„ë‚¼ìˆ˜ ìˆë‹¤.(ê³„ì ˆì„± ë° íŠ¸ëœë“œ)

2. ì´ìƒì¹˜(outlier)ë¥¼ íƒì§€í•˜ì—¬ ê¸‰ê²©í•œ ë³€í™”ë¥¼ ì•Œì•„ë‚¼ìˆ˜ ìˆë‹¤.

**a. Standard Deviation (ì •ê·œë¶„í¬) :** ë°ì´í„°ì˜ í‘œì¤€í¸ì°¨ë¥¼ ì´ìš©í•˜ì—¬ íƒì§€

> - 1í‘œì¤€í¸ì°¨ : í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ 1ì‹œê·¸ë§ˆ ë²”ìœ„ ì´ìƒì´ë©´ ì´ìƒì¹˜ë¡œ íŒë‹¨
> - 2í‘œì¤€í¸ì°¨ : í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ ì–‘ìª½ 2ì‹œê·¸ë§ˆ ë²”ìœ„ì´ìƒì´ë©´ ì´ìƒì¹˜ë¡œ íŒë‹¨
> - 3í‘œì¤€í¸ì°¨ : í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ ì–‘ìª½ 3ì‹œê·¸ë§ˆ ë²”ìœ„ ì´ìƒì´ë©´ ì´ìƒì¹˜ë¡œ íŒë‹¨
    **ì‹ìŠ¤ì‹œê·¸ë§ˆ(ì–‘ìª½ 3ì‹œê·¸ë§ˆì”©)ë¥¼ ì´ìš©í•˜ì—¬ í’ˆì§ˆê´€ë¦¬ì—ë„ ì“°ì„!(ìˆ˜ì—…ì‹œê°„ì— ë°°ì› ì–´ìš”)
> - ì´ë•Œ Z-score ê³µì‹ì„ ì‚¬ìš©í•œë‹¤.

![z = \frac{X - \mu}{\sigma}](https://latex.codecogs.com/png.latex?z%20=%20%5Cfrac%7BX-%5Cmu%7D%7B%5Csigma%7D)

> - Z-score > 3(sigma) | Z-score < -3 ì´ë©´ ì´ìƒì¹˜ë¡œ ì²˜ë¦¬

**b. IQR (Interquartile Range) with Box plots**

- IQR : Q3-Q1(ì œ 3ì‚¬ë¶„ìœ„ ê°’ - ì œ 1ì‚¬ë¶„ìœ„ ê°’) ìœ¼ë¡œ êµ¬í•¨

> ì™œ IQRì„ ì“°ëŠ”ê°€? â†’ ì¤‘ì•™ê°’ ì£¼ë³€ 50% ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë°, ì´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ì§‘ì¤‘ë„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤!

- 1.5*IQR ê°’ì„ ì´ìš©í•˜ì—¬ êµ¬ê°„ì„ ì •í•˜ëŠ”ë°, 1.5ë³´ë‹¤ í°ìˆ˜ë¥¼ ê³±í•˜ê¸°ë„ í•˜ë©° ìµœê·¹ë‹¨ì˜ ì´ìƒì¹˜ë¥¼ íŒë³„í•  ìˆ˜ ìˆë‹¤.

---

3. ì´ë™í‰ê· ê¸°ë²• (SMA,EMA,WMA ë“±) ì‚¬ìš©í•˜ì—¬ ì¶”ì„¸íë¦„ì„ íŒŒì•…í• ìˆ˜ ìˆë‹¤.

```py
#ë‹¨ìˆœì´ë™í‰ê· (SMA, Simple Moving Average) 
df["SMA"] = df["value"].rolling(window='ìœˆë„ìš°í¬ê¸°').mean()
#ì§€ìˆ˜ì´ë™í‰ê· (EMA, Exponential Moving Average)
df["EMA"] = df["value"].ewm(span = 'ìœˆë„ìš°í¬ê¸°', adjust=False).mean()
    # adjust=False : ê°€ì¤‘ì¹˜ ì¡°ì • ì—†ì´ ë‹¨ìˆœ í˜„ì¬ ë°ì´í„°ì™€ ê³¼ê±°ë°ì´í„°ì˜ í‰ê·  ê³„ì‚°
#ê°€ì¤‘ì´ë™í‰ê· (WMA, Weighted Moving Average)
weights = np.arange(1,ìœˆë„ìš°í¬ê¸°+1) #ê°€ì¤‘ì¹˜ ë°°ì—´ ì„¤ì •
df["WMA"] = df.["value"].apply(lambda x: np.dot(x,weights)/weights.sum(),raw=True)
    # weights ê°’ì„ ì„¤ì •í•˜ì—¬ í–‰ë ¬ê°„ ë‚´ì  ë° í‰ê· ì„ í†µí•´ ê°€ì¤‘ì´ë™í‰ê· ì„ êµ¬í•œë‹¤.
```

---

4. ë‹¤ë¥¸ ì‹œê³„ì—´ ê°„ì˜ ë¹„êµë¡œ ìƒê´€ê´€ê³„ë¥¼ ë¶„ì„í•˜ì—¬ ì¸ê³¼ê´€ê³„ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.

- [í”¼ì–´ìŠ¨ ìƒê´€ ê³„ìˆ˜](https://ko.wikipedia.org/wiki/%ED%94%BC%EC%96%B4%EC%8A%A8_%EC%83%81%EA%B4%80_%EA%B3%84%EC%88%98)(Pearson Correlation Coefficient)

> - +1 ~ -1 ì‚¬ì´ì˜ ê°’ì„ ê°€ì§€ë©°, +1ì€ ì–‘ì˜ ì„ í˜•ìƒê´€ê´€ê³„ -1 ì€ ìŒì˜ ì„ í˜•ìƒê´€ê´€ê³„ë¥¼ ì˜ë¯¸í•¨
> - í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ëŠ” ì„ í˜•ê´€ê³„ë§Œ ì¸¡ì •í•¨(ë¹„ì„ í˜• ê´€ê³„ëŠ” X)
> - í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ëŠ” ë°ì´í„°ê°€ ë“±ë¶„ì‚°ì„±ì„ ê°€ì§„ë‹¤ê³  ê°€ì • í•˜ë¯€ë¡œ, ë³€ìˆ˜ ë°ì´í„°ê°€ ì •ê·œ ë¶„í¬ë¥¼ ê°€ì§€ì§€ ì•Šê±°ë‚˜ outlierê°€ ë°œìƒí•  ê²½ìš° ë¶„ì„ ê²°ê³¼ê°€ í‹€ì–´ì§

- [ì¼„ë‹¬ ìƒê´€ ê³„ìˆ˜](https://en.wikipedia.org/wiki/Kendall_rank_correlation_coefficient)(Kendall Correlation Coefficient)

> - -1ì—ì„œ +1 ì‚¬ì´ì˜ ê°’ì„ ê°€ì§„ë‹¤.
> - +1: ì™„ë²½í•œ ì–‘ì˜ ìˆœìœ„ ê´€ê³„ (Aê°’ì´ ì»¤ì§€ë©´ Bê°’ë„ í•­ìƒ ì»¤ì§„ë‹¤)
> - 1: ì™„ë²½í•œ ìŒì˜ ìˆœìœ„ ê´€ê³„
> - 0: ìˆœìœ„ ê°„ì˜ ê´€ê³„ê°€ ì—†ìŒ

- ìˆœìœ„ê´€ê³„ : ë°ì´í„°ì…‹ ë‚´ì—ì„œ ê° ê°’ì´ ìƒëŒ€ì ìœ¼ë¡œ ì–´ëŠ ìœ„ì¹˜ì— ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒ

```py
import pandas as pd
from scipy.stats import kendalltau

# ìƒ˜í”Œ ë°ì´í„° ìƒì„±
data = {'í‚¤': [168,170,175,176,178,180,181,182],
        'ëª¸ë¬´ê²Œ': [68,70,60,65,72,78,80,75]}

df = pd.DataFrame(data)

# Kendall ìˆœìœ„ ìƒê´€ê³„ìˆ˜ ê³„ì‚°
correlation, p_value = kendalltau(df['í‚¤'], df['ëª¸ë¬´ê²Œ'])

# ê²°ê³¼ ì¶œë ¥
print(f"Kendall ìˆœìœ„ ìƒê´€ê³„ìˆ˜: {correlation:.4f}")
print(f"P-value: {p_value:.4f}")
```

---

5. â€˜ARIMAâ€™ì™€ ê°™ì€ ì‹œê³„ì—´ ë¶„ì„ ê¸°ë²•ì„ í†µí•´ ì˜ˆì¸¡ ëª¨ë¸ë§ ì„¤ê³„ê°€ ê°€ëŠ¥í•˜ë‹¤.

> - ARIMA = AR(ìê¸°íšŒê·€) + I (ì°¨ë¶„) + MA(ì´ë™í‰ê· )
> - ìê¸°íšŒê·€(AR) : ê³¼ê±°ì˜ ê°’ì´ í˜„ì¬ ê°’ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤ëŠ” ê°€ì •ì„ ê¸°ë°˜
> - ì°¨ë¶„(Differencing) : â€˜í˜„ì¬ ë°ì´í„° ê°’-ì´ì „ ë°ì´í„° ê°’â€™ì´ë¯€ë¡œ ë³€í™”ëŸ‰ì„ íŒŒì•…í•¨

![Y't = Y_t - Y_{t-1}](https://latex.codecogs.com/png.latex?Y't%20=%20Y_t%20-%20Y%7Bt-1%7D)

> - ì´ë™í‰ê· (MR) : ê³¼ê±°ì˜ ì˜ˆì¸¡ì˜¤ì°¨ê°€ í˜„ì¬ ê°’ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤ëŠ” ê°€ì •ì„ ê¸°ë°˜

---

- PDF vs CDF vs PPF

- PDF (í™•ë¥  ë°€ë„ í•¨ìˆ˜, Probability Density Function ): íŠ¹ì • ì§€ì ì—ì„œì˜ ë°€ë„ë¥¼ ë‚˜íƒ€ë‚´ë©°, ì´ê°’ì´ ë†’ì„ìˆ˜ë¡ í•´ë‹¹ì§€ì ì—ì„œì˜ í™•ë¥ ì´ ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŒ

> - ë†’ì€ PDFê°’ : íŠ¹ì • ê°’ì´ ì •ê·œë¶„í¬ì—ì„œ ìì£¼ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.
> - PDF ê°’ ìì²´ëŠ” â€œí™•ë¥ â€ì´ ì•„ë‹Œ, â€œí™•ë¥ ë°€ë„â€ë‹¤! íŠ¹ì • ë²”ìœ„ì˜ í™•ë¥ ì„ ê³„ì‚°í•˜ë ¤ë©´ PDFê°’ì„ ì ë¶„í•´ì•¼í•¨
> - PDFê°’ì´ 0.1ì´ë©´ ê·¸ê²ƒì´ 10%í™•ë¥ ì„ ì˜ë¯¸í•˜ì§„ ì•ŠìŒ.

- CDF (ëˆ„ì  ë¶„í¬ í•¨ìˆ˜, Cumulative Distribution Function) : íŠ¹ì • ê°’ê¹Œì§€ì˜ ëˆ„ì í™•ë¥ ì„ ë‚˜íƒ€ëƒ„

> - CDFëŠ” í•­ìƒ ì¦ê°€í•˜ëŠ” í•¨ìˆ˜ì„.(ë‹¹ì—° ê³„ì†ëœ ëˆ„ì í™•ë¥ ì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ)
> - 0ê³¼ 1ì‚¬ì´ì— ìˆìœ¼ë©° (x)ê°€ ì¦ê°€í• ìˆ˜ë¡ CDFê°’ ì¦ê°€
> - CDF ëŠ” PDFë¥¼ ì ë¶„í•œê²ƒì„! â†’ íŠ¹ì • ê°’(x)ê¹Œì§€ì˜ ì •ì ë¶„ & ë°€ë„ì˜ ëˆ„ì í•©

- PPF (ë¶„ìœ„ë¶„ í•¨ìˆ˜, Percent-Point Function)

> - ì£¼ì–´ì§„ í™•ë¥ ì— ëŒ€í•´ í•´ë‹¹ í™•ë¥ ì„ ê°€ì§€ëŠ” ê°’(ë¶„ìœ„ìˆ˜)ì„ ì œê³µí•˜ëŠ” í•¨ìˆ˜
> - PPFëŠ” CDFì˜ ì—­í•¨ìˆ˜ì´ë‹¤.
> - CDFê°€ íŠ¹ì • í™•ë¥ ì— ë„ë‹¬í•˜ëŠ” ê°’ì„ ì°¾ëŠ” ë°˜ë©´, PPFëŠ” íŠ¹ì •ê°’ì— ë„ë‹¬í•˜ëŠ” í™•ë¥ ì´ë‹¤.

---

> ì¶œì²˜ : [https://velog.io/@stand_hyo/Data-ë°ì´í„°-ì „ì²˜ë¦¬-ì´ìƒì¹˜Outlierì™€-ê²°ì¸¡ì¹˜Missing-Value-ì²˜ë¦¬í•˜ê¸°](https://velog.io/@stand_hyo/Data-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%84%EC%B2%98%EB%A6%AC-%EC%9D%B4%EC%83%81%EC%B9%98Outlier%EC%99%80-%EA%B2%B0%EC%B8%A1%EC%B9%98Missing-Value-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0)